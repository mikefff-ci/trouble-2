version: 2.1

parameters:
  run_workflow:
    type: boolean
    default: false
  master_test:
    type: string
    default: master

workflows:
  version: 2
  filtered_workflow:
    when: << pipeline.parameters.run_workflow >>
    jobs:
      - my_job
  another_filtered_workflow:
    when: << pipeline.parameters.run_workflow >>
    jobs:
      - my_job

jobs:
  my_job:
    docker:
      - image: cimg/base:stable
    steps:
      - checkout
  noop:
    docker:
      - image: alpine
    steps:
      - run: echo "Skipped"
